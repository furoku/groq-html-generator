## 動作確認テスト手順

以下の手順で、提供された HTML/JS が正しく動作するかをローカル環境で確認できます。  

---

### 1️⃣ ファイルを作成する  
1. 任意のフォルダに `index.html` を作成し、**全てのコード（HTML、CSS、JavaScript）** をそのまま貼り付けて保存します。  
2. エディタは Visual Studio Code、Sublime Text、またはお好きなテキストエディタで構いません。

### 2️⃣ ブラウザで開く  
- 作成した `index.html` を **Chrome, Edge, Firefox, Safari** のいずれかで **ダブルクリック**、またはブラウザの「ファイル > 開く」から開きます。  
- **ローカルファイル** (`file://` スキーム) でも問題なく動作します。

### 3️⃣ 基本的な動作確認  

| 操作 | 期待される結果 |
|-----|----------------|
| **ページが正しく表示されるか** | ヘッダー、ヒーロー、商品一覧、フッターが全て見えること。 |
| **ナビゲーションリンククリック** | スムーズスクロールで対象セクションに移動する。 |
| **商品カードの「カートに追加」ボタン** | ① クリックすると「追加しました!」にテキスト変化し、2秒後に元に戻る。<br>② カートカウントが +1 される。 |
| **カートアイコンクリック** | カートモーダルが表示/非表示になる。 |
| **カート内の「＋」「－」ボタン** | 個数が増減し、0 になるとその商品が削除される。 |
| **「購入手続きへ進む」ボタン** | カートが空の場合はアラートで「カートが空です」 → そうでない場合は合計金額と「注文ありがとうございます」のアラートが出て、カートがクリアされる。 |
| **外部クリックでモーダル閉じ** | モーダル外部をクリックするとモーダルが閉じる。 |
| **ページリロード** | カートは **リセット** される（ローカルストレージ保存はしていません）。 |

### 4️⃣ デベロッパーツールでの確認ポイント  

1. **コンソールエラー**  
   - Chrome なら `F12` → **Console** タブでエラーが出ていないか確認。  
   - エラーがある場合は、エラーメッセージをコピーして検索すれば解決策が見つかります。  

2. **ネットワーク**  
   - **Network** タブで `index.html` が 200 OK で読み込まれていることを確認。  

3. **要素検証**  
   - `#cartCount`, `#productsGrid`, `#cartItems` などの ID が正しく存在し、期待通りの HTML が生成されているか確認。  

### 5️⃣ よくあるトラブルと対処法  

| 問題 | 原因例 | 対策 |
|------|--------|------|
| カートが増えない | `addToCart` の `event` が未定義 | ボタンの `onclick` が `addToCart(${product.id})` だけで `event` が無い。※`addToCart` のシグネチャに `event` パラメータを追加し、呼び出し側を `addToCart(event, ${product.id})` に変更するか、`event` を `window.event` で取得するように変更。 |
| モーダルが閉まらない | `window.onclick` が他のクリックイベントと競合 | `event.stopPropagation()` を `toggleCart` 内で呼び、モーダル内部クリックで閉じないようにする。 |
| スクロールが止まらない | スムーズスクロールが無効化された CSS/JS が入っている | `html { scroll-behavior: smooth; }` が抜けている場合は CSS で追加。 |
| 金額の表示が桁区切りされない | `toLocaleString()` が未実装 (古いブラウザ) | `Intl.NumberFormat` へフォールバックコードを追加。 |

### 6️⃣ テストを自動化したい場合

簡易的に **Jest + jsdom** で単体テストを書いても良いです。  
例（抜粋）：

```js
// product.test.js
import { addToCart, cart } from './app.js'; // 例としてモジュール化した場合

test('add to cart increments count', () => {
  const initialCount = cart.length;
  addToCart(1);
  expect(cart.length).toBe(initialCount + 1);
});
```

（実際にはモジュール化が必要です）

---

以上の手順で **「動作確認テスト」** が完了します。もし不具合が見つかったら、エラーメッセージや期待した動作と実際の差異をメモして、適宜コードを修正してください。質問や追加の実装要望があれば、遠慮なく聞いてください！ 🚀